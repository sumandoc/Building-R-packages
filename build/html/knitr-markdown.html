

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Knitr and Markdown &mdash; Building R Packages 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Building R Packages 1.0 documentation" href="index.html"/>
        <link rel="next" title="Common Knitr options" href="knitr-options.html"/>
        <link rel="prev" title="Vignettes and Readme files" href="vignettes-and-readme.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Building R Packages
          

          
          </a>

          
            
            
              <div class="version">
                1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="before_start.html">Before You Start</a></li>
<li class="toctree-l1"><a class="reference internal" href="r-packages.html">R Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_structure.html">Basic Structure of R package</a></li>
<li class="toctree-l1"><a class="reference internal" href="description.html">DESCRIPTION file</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace.html">NAMESPACE file</a></li>
<li class="toctree-l1"><a class="reference internal" href="namespace_notation.html">NAMESPACE function notation</a></li>
<li class="toctree-l1"><a class="reference internal" href="loading-and-attaching-a-package-namespace.html">NAMESPACE: load and attach</a></li>
<li class="toctree-l1"><a class="reference internal" href="r-sub-directory.html">R/ sub-directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="compiled_code.html">Compiled code</a></li>
<li class="toctree-l1"><a class="reference internal" href="man-sub-directory.html">man/ sub-directory</a></li>
<li class="toctree-l1"><a class="reference internal" href="devtools.html">devtools package</a></li>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="vignettes-and-readme.html">Vignettes and Readme files</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Knitr and Markdown</a></li>
<li class="toctree-l1"><a class="reference internal" href="knitr-options.html">Common Knitr options</a></li>
<li class="toctree-l1"><a class="reference internal" href="roxygen2.html">roxygen2 and help files</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-for-demos.html">Including Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="data-packages.html">Data Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="testing-code.html">Testing Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="testthat-package.html">testthat package</a></li>
<li class="toctree-l1"><a class="reference internal" href="passing-cran-checks.html">CRAN checks</a></li>
<li class="toctree-l1"><a class="reference internal" href="licensing.html">Open Source Licensing</a></li>
<li class="toctree-l1"><a class="reference internal" href="why-open.html">Why Open Source?</a></li>
<li class="toctree-l1"><a class="reference internal" href="version-control.html">Version Control and GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="git.html">Git</a></li>
<li class="toctree-l1"><a class="reference internal" href="local-to-github.html">Linking local repo to Github repo</a></li>
<li class="toctree-l1"><a class="reference internal" href="software-design.html">Software Design and Philosophy</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration.html">Continuous Integration</a></li>
<li class="toctree-l1"><a class="reference internal" href="crossplat.html">Cross Platform Development</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Building R Packages</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Knitr and Markdown</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/knitr-markdown.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="knitr-and-markdown">
<h1>Knitr and Markdown<a class="headerlink" href="#knitr-and-markdown" title="Permalink to this headline">¶</a></h1>
<p>Both vignette and README files can be written as R Markdown files, which will allow you to include R code examples and results from your package. One of the most exciting tools in R is the <code class="docutils literal"><span class="pre">knitr</span></code> system for combining code and text to create a reproducible document. In terms of the power you get for time invested in learning a tool, <code class="docutils literal"><span class="pre">knitr</span></code> probably can’t be beat. Everything you need to know to create and “knit” a reproducible document can be learned in about 20 minutes, and while there is a lot more you can do to customize this process if you want to, probably 80% of what you’ll ever want to do with knitr you’ll learn in those first 20 minutes.</p>
<p>R Markdown files are mostly written using Markdown. To write R Markdown files, you need to understand what markup languages like Markdown are and how they work. In Word and other word processing programs you have used, you can add formatting using buttons and keyboard shortcuts (e.g., “Ctrl-B” for bold). The file saves the words you type. It also saves the formatting, but you see the final output, rather than the formatting markup, when you edit the file (WYSIWYG - what you see is what you get). In markup languages, on the other hand, you markup the document directly to show what formatting the final version should have (e.g., you type **bold** in the file to end up with a document with bold). Examples of markup languages include:</p>
<ul class="simple">
<li>HTML (HyperText Markup Language)</li>
<li>LaTex</li>
<li>Markdown (a “lightweight” markup language)</li>
<li>restructuredText</li>
</ul>
<p>To write a file in Markdown, you’ll need to learn the conventions for creating formatting. See this table for some common formatting choices: <a class="reference external" href="https://bookdown.org/rdpeng/RProgDA/documentation.html#common-markdown-formatting-elements">Table of Markdown Formatting Specifiers</a>.</p>
<p>Some other simple things you can do in Markdown include:</p>
<ul class="simple">
<li>Lists (ordered or bulleted)</li>
<li>Equations</li>
<li>Tables</li>
<li>Figures from file</li>
<li>Block quotes</li>
<li>Superscripts</li>
</ul>
<p>The start of a Markdown file gives some metadata for the file (authors, title, format) in a language called YAML. For example, the YAML section of a package vignette might look like this:</p>
<div class="highlight-r"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="o">---</span>
title<span class="o">:</span> <span class="s">&quot;Model Details for example_package&quot;</span>
author<span class="o">:</span> <span class="s">&quot;Jane Doe&quot;</span>
<span class="kp">date</span><span class="o">:</span> <span class="s">&quot;2016-11-08&quot;</span>
output<span class="o">:</span> rmarkdown<span class="o">::</span>html_vignette
vignette<span class="o">:</span> <span class="o">&gt;</span>
  <span class="o">%\VignetteIndexEntry{Model Details for example_package}</span>
<span class="o">  %</span>\VignetteEngine<span class="p">{</span>knitr<span class="o">::</span>rmarkdown<span class="p">}</span>
  %\VignetteEncoding<span class="p">{</span>UTF<span class="m">-8</span><span class="p">}</span>
<span class="o">---</span>
</pre></div>
</td></tr></table></div>
<p>When creating R Markdown documents using the RStudio toolbar, much of this YAML will be automatically generated based on your specifications when opening the initial file. However, this is not the case with package vignettes, for which you’ll need to go into the YAML and add the authors and title yourself. Leave the vignette engine, vignette encoding, output, and date as their default values.</p>
<p>For more Markdown conventions, see RStudio’s R Markdown Reference Guide (link also available through “Help” in RStudio).</p>
<p>R Markdown files work a lot like Markdown files, but add the ability to include R code that will be run before rendering the final document. This <strong>functionality is based on literate programming, an idea developed by Donald Knuth,</strong> to mix executable code with regular text. The files you create can then be rendered, to run any embedded code. The final output will have results from your code and the regular text.</p>
<ol class="arabic simple">
<li>The basic steps of opening and rendering an R Markdown file in RStudio are:</li>
<li>To open a new R Markdown file, go to “File” -&gt; “New File” -&gt; “RMarkdown” -&gt; for now, choose a “Document” in “HTML” format.</li>
<li>This will open a new R Markdown file in RStudio. The file extension for R Markdown files is “.Rmd”.</li>
<li>The new file comes with some example code and text. You can run the file as-is to try out the example. You will ultimately delete this example code and text and replace it with your own.</li>
<li>Once you “knit” the R Markdown file, R will render an HTML file with the output. This is automatically saved in the same directory where you saved your .Rmd file.</li>
<li>Write everything besides R code using Markdown syntax.</li>
</ol>
<p>The <code class="docutils literal"><span class="pre">knit</span></code> function from the <a class="reference external" href="https://cran.r-project.org/web/packages/knitr/index.html">knitr</a> package works by taking a document in R Markdown format (among a few possible formats), reading through it for any markers of the start of R code, running any of the code between that “start” marker and a marker showing a return to regular Markdown, writing any of the relevant results from R code into the Markdown file in Markdown format, and then passing the entire document, now in Markdown rather than R Markdown format, to software that can render from Markdown to the desired output format (for example, compile a pdf, Word, or HTML document).</p>
<p>This means that all a user needs to do to include R code, that will be run if desired, within a document is to properly separate it from other parts of the document through the appropriate markers. To indicate R code in an RMarkdown document, you need to separate off the code chunk using the following syntax:</p>
<div class="highlight-r"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="sb">``</span>`<span class="p">{</span>r<span class="p">}</span>
my_vec <span class="o">&lt;-</span> <span class="m">1</span><span class="o">:</span><span class="m">10</span>
<span class="sb">``</span>`
</pre></div>
</td></tr></table></div>
<p>This syntax tells R how to find the start and end of pieces of R code when the file is rendered. R will walk through, find each piece of R code, run it and create output (printed output or figures, for example), and then pass the file along to another program to complete rendering (e.g., Tex for pdf files).</p>
<p>You can specify <strong>a name for each chunk</strong>, if you’d like, by including it after “<code class="docutils literal"><span class="pre">r</span></code>” when you begin your chunk. For example, to give the <strong>name load_mtcars to a code chunk</strong> that loads the mtcars dataset, specify that name in the start of the code chunk:</p>
<div class="highlight-r"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="sb">``</span>`<span class="p">{</span>r load_mtcars<span class="p">}</span>
data<span class="p">(</span>mtcars<span class="p">)</span>
<span class="sb">``</span>`
</pre></div>
</td></tr></table></div>
<p>Here are a couple of tips for <strong>naming code chunks</strong>:</p>
<ul class="simple">
<li>Chunk names must be unique across a document.</li>
<li>Any chunks you don’t name are given ordered numbers by <code class="docutils literal"><span class="pre">knitr</span></code>.</li>
</ul>
<p>You do not have to name each chunk. However, there are some advantages:</p>
<ul class="simple">
<li>It will be easier to find any errors.</li>
<li>You can use the chunk labels in referencing for figure labels.</li>
<li>You can reference chunks later by name.</li>
</ul>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="knitr-options.html" class="btn btn-neutral float-right" title="Common Knitr options" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="vignettes-and-readme.html" class="btn btn-neutral" title="Vignettes and Readme files" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Ashish Khanal (US) and Suman Khanal (Nepal).

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>